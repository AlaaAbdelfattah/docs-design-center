= Add Behavioral Headers to Simulated API Calls
ifndef::env-site,env-github[]
include::_attributes.adoc[]
endif::[]

:imagesdir: ../assets/images

You can use behavioral headers to change the behavior of the mocking service.


.Use behavioral headers where you would normally specify other types of header in the API Console
image::apid-behavioral-headers.png[]


MS2-Delay:: Indicates how many milliseconds the request should take to answer. You can specify a value for this header as an integer number or as a range of integer numbers.
+
If you specify a range, the value must have the form `min-max`. For example, given the value 500-1000, the request will take a random time between 500 and 1000 milliseconds.

MS2-Error-Level:: Indicates which range of codes will be considered errors. You can specify one of the following three case-sensitive values:
+
* `REQUEST_ONLY`: Only 4XX codes are considered to be errors.
* `SERVER_ONLY`: Only 5XX codes are considered to be errors.
* `ALL`: Both 4XX and 5XX codes are considered to be error. This is the default value.

MS2-Error-Rate:: Indicates the probability of getting an error status code as a response. The value for this header must be a decimal number between 0 and 1.
+
This header works together with MS2-Status-Code and MS2-Error-Level. If the mocking service determines that an error code should be returned, it chooses the error code according to the codes filtered by MS2-Status-Code and the error level determined by MS2-Error-Level.
+
[NOTE]
====
The usage of this header requires to define at least one success and one error code (according to the error level), otherwise, Mocking Service will return an error
// What does this mean?
====

MS2-Randomize:: When this header is sent as true, the mocking service auto-generates a payload response if no example is defined for the response.

MS2-Status-Code:: Specifies a list of status codes expected to be returned by the Mock. Those codes are expressed as a CSV that can combine integers and ranges.
+
This list will work as a filter over the codes defined in the API. In that sense, the result of applying this header will be a new list containing the status codes that exist both in the API and in the list provided by MS2-Status-Code. If the result of applying MS2-Status-Code is a non empty list, those status codes will be the only ones considered when building the response, otherwise, Mocking Service will return an error

MS2-Strict-Model-Validations:: When turning on the Mocking Service, the mock is created even when the API has errors. In this scenario, each time a request arrives, Mocking services try to validate the request and build the response according to the stored partial model. However, if MS2-Strict-Model-Validations is sent as true, Mocking Service will answer with the error found in the API.
