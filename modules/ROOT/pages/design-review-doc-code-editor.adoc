= Review the Documentation of an API in the Code Editor
ifndef::env-site,env-github[]
include::_attributes.adoc[]
endif::[]

:imagesdir: ../assets/images

// 8/23/19: I very much need to see what an OAS spec looks like in APIC. The OAS specs that Kieran pointed me to on Google Drive are all 3.0.0, and APID does not support that version. In Slack on #api-designer-eng, I asked for OAS specs that APID supports: https://mulesoft.slack.com/archives/G1UVDDN8P/p1566585045000100?thread_ts=1565714204.001400&cid=G1UVDDN8P
// I realized again today that I need OAS specs again because I was trying to describe how (at least, in RAML) types that are defined in fragments that are included in a spec with the `uses` facet are displayed in the TOC for the full spec, as well as in the TOCs for the fragments. But I realized I was describing only the behavior for RAML, not for OAS.

As you write an API specification, you can add documentation to it, so that, after you publish the specification, other developers can learn about them. As you add your documentation in either plain text or in GitHub-flavored Markdown, you can review it in the right panel of the code editor to see how it is rendered, ensure that it is rendered correctly, and ensure that it says what you want it to say.

== Tour of the Documentation Pane

Let's have a look at the documentation for a complex RAML API specification. To view the documentation, you open the *Documentation* pane.

.The *Documentation* pane in API Designer's code editor
image::apic-summary-page.png[]


. The *Documentation* tab: click this to view the documentation for your specification.
. The documentation of the currently selected item in the specification: This image shows the summary page for the specification that is in the code editor. However, there are several different types of documentation that can appear in this location, depending on the item that you select in the table of contents.
. The navigation icon: click this to display a table of contents that lets you navigate to the different pages of the documentation.

== The Table of Contents

The table of contents that appears can contain several sections when you select the main file in a RAML API-specification project or the file in an OAS project:

* *Summary*: Click this to go to the summary page of the specification.
* *Endpoints*: Expand this section to see a list of all of the endpoints that are defined in the specification. Expand an endpoint to see links to the endpoint's overview page and the documentation of the endpoint's methods.
* *Types*: Expand this section to a list of all of the types that are defined in the specification. Click a type to open its documentation.
* *Security*: Expand this section to see a list of the security schemes that are defined in the specification. Click a scheme to open its documentation.
// We render for 4 of 7 fragment types: libraries (Types in the TOC), security schemes (Security in the TOC), documentation (Documentation in the TOC, with each entry being a title/content pair), and types (Types in the TOC).

== Types of Documentation

=== Summary Page for Specifications

the first time you click the *Documentation* tab, the summary of the API specification appears, as in this image. This summary page lists all of the API endpoints and their methods. Click the hyperlinks to go to the overview page for each endpoint. Click a colored box for a method to go to the page that documents the method.
// Explain what the summary pages for methods, types, and schemes (and other supported entities) contain
// Ensure that the purpose of the content area is explained well.

. The entity overview: At the top of each page appears information about the entity (entire specification, endpoint, method, or type) that the page displays documentation for. In this image, the title and version of the API specification are displayed. In the dark gray box appears the base URI. The mocking service is on and the base URI for testing endpoints with the mocking service is displayed

image::apic-spec-summary-page.png[]

. The title that is defined by the `title` facet in the specification.
. The version that is defined by the `version` facet.
. One of three entries:
+
* If the mocking service is off, this field displays the base URI that is defined by the `baseUri` facet in the specification.
* If the mocking service is on, this field displays the base URI that the mocking service generated and that you can use in tests of the endpoints in the specification.
* If the mocking service is off and no base URI is defined, this field displays the message `Base URI not defined in the API file.'
. This heading is auto-generated.
. A generated list of the endpoints that are defined in the specification. You can click the name of an endpoint to open the documentation for that endpoint.
+
The list also displays in colored blocks the types of HTTP method that the specification defines for accessing each endpoint. You can click a method type to open the method's documentation.

=== Overviews for Endpoints

In the table of contents for an API specification, click the link to overview page for an endpoint to see the endpoint's description and a list of its methods. For each method, the *Documentation* pane shows the following information:

* The display name, if the specification defines one.
* The description, if the specification provides one

Click the colored box for a method or its display name (if the method has one) to view the method's documentation.
At the bottom of the endpoint's overview page are links to the previous and next endpoints in the table of contents.

.An overview page for an endpoint
image::apid-endpoint-overview.png[]

=== Documentation of Methods

At the top of the documentation is the display name for the method, if the specification defines a display name for it. Next is the URI for accessing the endpoints. The URI is an extension of the base URI. The description of the method follows.

In the top-right corner of the documentation is the *Try It* button, which you can click if you want to test the method by simulating a call to it.

.The top of the overview page for a method, showing the display name, URI generated by the mocking service, description, and *Try It* button
image::apid-doc-get-overview-top.png[]

The *Code examples* section provides samples that you can use in applications for sending requests to the method. Each sample uses the URI that appears at the top of the page.

.The *Code examples* section for a method
image::apid-doc-get-overview-code-examples.png[]

The *Query parameters* section lists the parameters that you can add to the end of the request URI. All of the text, except for the descriptions `offset is the beginning line number` and `maximum number of items to return`, is auto-generated. If a parameter is defined as required, the auto-generated label `Required` appears next to its data type.

.The *Query parameters* section for a method
image::apid-doc-get-overview-query-parms.png[]

The *Response* section displays the different responses that the specification defines for the method. For each response code, the body of the response is shown in a separate section. The details in each section include the media type of the response body, the name of the type being used for the response, an example of a response message, and descriptions of the types that are allowed in the response. Types that are required to be in the body are labelled `Required`.

If the specification does not define an example response, and if the specification defines a media type globally, then the *Documentation* pane generates an example response. The values in the example are all empty strings.

.The top of the *Response* section, showing a section for each of the three status codes that are defined for a method. Also shown is the message that the specification defines as part of the response for the `200` status code.
image::apid-doc-get-overview-response-top.png[]

.The *Body* subsection of the *Response* section, showing the media type, the type defined for the response, the description of the type, and the example defined for the type.
image::apid-doc-get-overview-response-body.png[]



.Documentation for some of the types that are in the body, showing a type with three types nested under it, a required type, and examples defined for the required type.
image::apid-doc-get-overview-response-body-types.png[]




=== Documentation of Types

Each type that is defined in a specification or in an external library that is imported by the `uses` facet (RAML) has its own page. At the top of the page is the name of the type and its description, if the specification defines a description.

Next appears an example of the type. If the specification does not define an example, and if the specification defines a media type globally, then the *Documentation* pane generates an example. The values in the example are all empty strings. You can copy examples to use them in applications that will call the API.

After the example, the elements of the type are listed and described. Any elements that are required to be in the type are labelled `Required`.

.The documentation of a type that is defined in a specification
image::apid-doc-type-full-panel.png[]



=== Documentation of Security Schemes

image::apid-apic-fragment-security-scheme.png[]


// image::apid-doc-start.png[]

// image::apid-doc-start-2.png[]

// image::apid-doc-start-3.png[]
